{"version":3,"sources":["1-scripts.js","2-form.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["'use strict';\n\nconsole.log('Погнали!');\n\n/*===================================================================\n  GLOBAL FUNCTIONS\n=====================================================================*/\n\n/* DOM\n=====================================================================*/\nfunction select(selector, parent) {\n  parent = parent || document;\n  var selected = parent.querySelectorAll(selector);\n  if (selected.length === 1) return selected[0];\n  return selected;\n}\n\n/*===================================================================*/\n\nfunction addEvent(elems, event, func) {\n  if (elems.length === undefined) return elems.addEventListener(event, func);\n  for (var i = 0; i < elems.length; i++) {\n    elems[i].addEventListener(event, func);\n  }\n}\nfunction removeEvent(elems, event, func) {\n  if (elems.length === undefined) return elems.removeEventListener(event, func);\n  for (var i = 0; i < elems.length; i++) {\n    elems[i].remoEventListener(event, func);\n  }\n}\n\n\n/* TESTING\n=====================================================================*/\nfunction isNum(elem) {\n  var val = elem.innerHTML || elem.value;\n  return !isNaN(parseInt(val)) && val !== '' && val !== ' ';\n}\n\n/*===================================================================*/\n\nvar isMobile = {\n  android: function android() {\n    return navigator.userAgent.match(/Android/i);\n  },\n  blackberry: function blackberry() {\n    return navigator.userAgent.match(/BlackBerry/i);\n  },\n  ios: function ios() {\n    return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n  },\n  opera: function opera() {\n    return navigator.userAgent.match(/Opera Mini/i) || navigator.userAgent.match(/opr/i) && typeof window.orientation !== \"undefined\";\n  },\n  windows: function windows() {\n    return navigator.userAgent.match(/IEMobile/i);\n  },\n  any: function any() {\n    return isMobile.android() || isMobile.blackberry() || isMobile.ios() || isMobile.opera() || isMobile.windows();\n  }\n};\n\n\n/* EFFECTS\n=====================================================================*/\nfunction bgPrlx(elems, sizeX, sizeY, step) {\n  elems = select(elems);\n\n  if (elems.length === undefined) addClass(elems, 'bgPrlx--single');\n  else {\n    if (isMobile.any()) {\n      var scrolledY = Math.round(window.pageYOffset);\n\n      elems.forEach(function(elem) {\n        elem.style.backgroundAttachment = 'scroll';\n        elem.style.backgroundSize = sizeX + ' ' + sizeY;\n        elem.style.backgroundPosition =\n          'center ' +\n          ((scrolledY - Math.round(elem.offsetTop)) / step) + 'px';\n      });\n    }\n  }\n}\n\n/*===================================================================*/\n\nfunction elemPrlx(e) {\n  var bodyWidth = document.body.offsetWidth;\n  if (!isMobile.any() && bodyWidth >= 768) {\n    var elem = this.querySelector('#moveTitle');\n\n    elem.style.transform =\n      'translate3d(' +\n      (e.clientX / 4 - (elem.offsetWidth / 3)) + 'px, ' +\n      (e.clientY / 8 - (elem.offsetHeight / 2)) + 'px, 0)';\n  }\n}\n\n\n\n/*===================================================================\n  OTHER SCRIPTS\n=====================================================================*/\ndocument.addEventListener('DOMContentLoaded', function() {\n\n  /* Parallax effect\n  =====================================================================*/\n  window.onscroll = function() {\n    bgPrlx('#bgPrlx', '100%', '140%', 5);\n  };\n\n\n  /* Fixed background image effect\n  =====================================================================*/\n  var parents = select('#bgPrlx');\n  parents.forEach(function(elem) {\n    elem.onmousemove = elemPrlx;\n  });\n\n\n  /* Responsive tables\n  =====================================================================*/\n  var\n    allTr = select('#table tr'),\n    labels = [];\n\n  allTr.forEach(function(tr) {\n    var childs = tr.children;\n\n    for(var i = 0; i < childs.length; i++) {\n      if (childs[i].tagName === 'TH') labels.push(childs[i].innerHTML);\n      else childs[i].dataset.label = labels[i];\n    };\n  });\n\n\n  /* Lazy loading\n  =====================================================================*/\n  (function() {\n\n    var\n      lazyloadImages = select('.lazy'),\n      lazyloadThrottleTimeout;\n\n    function lazyload() {\n      if (lazyloadThrottleTimeout) clearTimeout(lazyloadThrottleTimeout);\n\n      lazyloadThrottleTimeout = setTimeout(function() {\n        lazyloadImages.forEach(function(img) {\n          if (img.offsetTop < (window.innerHeight + window.pageYOffset)) {\n            img.src = img.dataset.src;\n            img.classList.remove('lazy');\n          }\n        });\n\n        if (lazyloadImages.length === 0) {\n          removeEvent(document, 'scroll', lazyload);\n          removeEvent(window, 'resize', lazyload);\n          removeEvent(window, 'orientationChange', lazyload);\n        }\n      }, 20);\n    }\n\n    addEvent(document, 'scroll', lazyload);\n    addEvent(window, 'resize', lazyload);\n    addEvent(window, 'orientationChange', lazyload);\n\n  })();\n\n\n  /* Smooth scrolling\n  =====================================================================*/\n  var anchors = select('a[href~=\"#\"]');\n\n  for (var i = 0; i < anchors.length; i++) {\n    addEvent(anchors[i], 'click', function(e) {\n      e.preventDefault();\n      document.querySelector(this.getAttribute('href')).scrollIntoView({\n          behavior: 'smooth',\n          block: 'start'\n        });\n    });\n  }\n\n\n  /* Button to scroll Up or Down\n  =====================================================================*/\n  (function() {\n\n    var\n      btn = select('#scrollBtn'),\n      icon = select('svg', btn),\n      flag;\n\n    icon.style.transform = 'rotate(180deg)';\n\n\n    function setScroll() {\n      if (scrollThrottleTimeout) clearTimeout(scrollThrottleTimeout);\n\n      var scrollThrottleTimeout = setTimeout(function() {\n        if (window.pageYOffset <= document.body.scrollHeight / 2) {\n          icon.style.transform = 'rotate(180deg)';\n          flag = true;\n        } else {\n          icon.style.transform = 'rotate(0deg)';\n          flag = false;\n        }\n      }, 20);\n    }\n\n    addEvent(document, 'scroll', setScroll);\n\n\n    function moveTo(e) {\n      e.preventDefault();\n      if (flag) window.scrollBy(0, window.innerHeight);\n      else window.scrollTo(0, 0);\n    }\n\n    addEvent(btn, 'click', moveTo);\n\n  })();\n\n\n});\n","'use strict';\n\n(function() {\n  document.addEventListener('DOMContentLoaded', function() {\n    var\n      wrapper = select('#forms'),\n      form = select('#form', wrapper),\n      name = select('#name', wrapper),\n      password = select('#password', wrapper),\n      url = select('#site', wrapper),\n      mail = select('#mail', wrapper),\n      phone = select('#phone', wrapper),\n      numFild = select('#number', wrapper),\n      date = select('#date', wrapper),\n      fields = [name, password, url, mail, phone, date],\n      reset = select('#btn-reset', wrapper),\n      submit = select('#btn-submit', wrapper);\n\n    /*===================================================================*/\n\n    function removeStyles() {\n      form.classList.remove('formError');\n      fields.forEach(function(el) {\n        el.classList.remove('fieldError');\n        el.classList.remove('fieldValid');\n      });\n    }\n\n    function addStyles(elem, state) {\n      if (state) {\n        elem.classList.remove('fieldError');\n        elem.classList.add('fieldValid');\n        return true;\n      } else {\n        elem.classList.remove('fieldValid');\n        elem.classList.add('fieldError');\n        return false;\n      }\n    }\n\n    /*===================================================================*/\n\n    function checkTxtField(field, length) {\n      var test = /^([a-zа-яё]+)$/i.test(field.value) && field.value.length >= length;\n\n      if (addStyles(field, test)) return true;\n      else return false;\n    }\n\n    /*===================================================================*/\n\n    function checkDate() {\n      var test = /^\\d{4}(\\-\\d{2}){2}$/.test(date.value);\n\n      if (date.value === '') {\n        date.classList.remove('fieldValid');\n        date.classList.remove('fieldError');\n        date.value = '';\n        return true;\n      }\n      else {\n        if (addStyles(date, test)) return true;\n        else return false;\n      }\n    }\n\n    /*===================================================================*/\n\n    function checkPhone() {\n      var test = /^\\(\\d{3}\\)\\s\\d{3}(\\-\\d{2}){2}$/.test(phone.value);\n\n      if (addStyles(phone, test)) return true;\n      else return false;\n    }\n\n    function setCursorPosition(pos, elem) {\n      elem.focus();\n      if (elem.setSelectionRange) elem.setSelectionRange(pos, pos);\n      else if (elem.createTextRange) {\n        var range = elem.createTextRange();\n        range.collapse(true);\n        range.moveEnd('character', pos);\n        range.moveStart('character', pos);\n        range.select();\n      }\n    }\n\n    function mask(e) {\n      var\n        matrix = this.defaultValue,\n        i = 0,\n        def = matrix.replace(/\\D/g, ''),\n        val = this.value.replace(/\\D/g, '');\n\n      def.length >= val.length && (val = def);\n\n      matrix = matrix.replace(/[X\\d]/g, function(a) {\n        return val.charAt(i++) || 'X';\n      });\n\n      this.value = matrix;\n      i = matrix.lastIndexOf(val.substr(-1));\n      i < matrix.length && matrix != this.defaultValue ? i++ : i = matrix.indexOf('X');\n      setCursorPosition(i, this);\n    }\n\n    phone.addEventListener('input', mask, false);\n\n    /*===================================================================*/\n\n    function checkMail() {\n      var test = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(mail.value);\n\n      if (addStyles(mail, test)) return true;\n      else return false;\n    }\n\n    /*===================================================================*/\n\n\n    form.onsubmit = function(e) {\n      submit.setAttribute('formvalidate', false);\n      var hasError = [];\n\n      fields.forEach(function(el) {\n        if (el === name && !checkTxtField(el, 3)) hasError.push(el);\n        if (el === date && !checkDate()) hasError.push(el);\n        if (el === phone && !checkPhone()) hasError.push(el);\n        if (el === mail && !checkMail()) hasError.push(el);\n      });\n\n      setTimeout(function() {\n        form.classList.remove('formError');\n      }, 600);\n\n      setTimeout(function() {\n        removeStyles();\n      }, 10000);\n\n      if (hasError) {\n        e.preventDefault();\n        form.classList.add('formError');\n      }\n    }\n\n    reset.onclick = removeStyles;\n  });\n})();\n"]}